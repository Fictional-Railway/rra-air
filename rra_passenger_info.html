<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<title>お客様情報入力|琉球リゾート航空</title>

<style type="text/css">
/* --- スタイルは既存ページと共通 (省略) --- */
body { font-family: "MS Pゴシック", "MS PGothic", "ヒラギノ角ゴ Pro W3", sans-serif; font-size: 12px; line-height: 1.5; background-color: #FFFFFF; margin: 0; padding: 0; }
table.main-layout { width: 760px; border: 0; border-spacing: 0; border-collapse: collapse; background-color: #FFFFFF; }
.header-top { padding: 10px; border-bottom: 3px solid #000080; }
.logo-text { font-size: 28px; font-weight: bold; color: #000080; font-family: "Arial Black", sans-serif; }
.logo-subtext { font-size: 12px; font-weight: bold; color: #CC0000; }
.global-nav { background-color: #EEEEFF; border-bottom: 1px solid #999999; padding: 5px; text-align: center; font-size: 11px; }
.global-nav a { color: #0000CC; text-decoration: none; }
.global-nav a:hover { color: #FF0000; text-decoration: underline; }
.left-nav { width: 180px; padding: 10px; background-color: #F0F0F0; border-right: 1px dashed #999999; }
.left-nav h4 { font-size: 13px; font-weight: bold; color: #FFFFFF; background-color: #0055AA; padding: 3px; margin-top: 10px; margin-bottom: 5px; }
.left-nav ul { margin: 0 0 10px 15px; padding: 0; list-style-type: square; }
.left-nav li { margin-bottom: 5px; }
.main-content { padding: 15px; }
.main-content h3 { font-size: 16px; color: #000080; border-bottom: 2px solid #000080; }
.footer { border-top: 1px solid #999999; padding: 10px; text-align: center; font-size: 10px; color: #666666; }

/* --- フォーム専用スタイル --- */
table.input-form { width: 100%; border-collapse: collapse; border: 1px solid #999999; }
table.input-form th { background-color: #F0F0F0; padding: 8px; border: 1px solid #CCCCCC; text-align: left; width: 150px; }
table.input-form td { padding: 8px; border: 1px solid #CCCCCC; }
.required { color: red; font-weight: bold; }
.submit-button { font-weight: bold; padding: 8px 15px; background-color: #DDDDDD; border: 2px outset #CCCCCC; cursor: pointer; font-size: 13px; }
.submit-button:active { border-style: inset; }
/* 点滅する "New!" のためのCSS (当時はGIFアニメでしたがCSSで再現) */
@keyframes blinker {
    50% { opacity: 0; }
}
</style>
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000CC" vlink="#800080">

<table class="main-layout" align="center" bgcolor="#999999" cellspacing="1" cellpadding="0">
    
    <tr bgcolor="#FFFFFF">
        <td colspan="2" class="header-top">
            <span class="logo-text">RRA 琉球リゾート航空</span><br>
            <span class="logo-subtext">"Best travel with RRA"</span>
        </td>
    </tr>
    
    <tr bgcolor="#EEEEFF">
        <td colspan="2" class="global-nav">
            <font size="2">
                <b>[ <a href="./index.html">ホーム</a> ]</b>
                | <b>[ <a href="./flight-info.html">運航情報</a> ]</b>
                | <b>[ <a href="#">時刻表</a> ]</b>
                | <b>[ <a href="#">運賃案内</a> ]</b>
                | <b>[ <a href="#">会社概要</a> ]</b>
                | <b>[ <a href="#">English</a> ]</b>
            </font>
        </td>
    </tr>

    <tr>
        <td class="left-nav" valign="top">
            <h4>■ 空席照会・ご予約</h4>
            <ul><li><a href="#">国内線予約</a></li><li><a href="#">予約確認・変更</a></li></ul>
            <h4>■ RRAマイレージ</h4>
            <ul><li><a href="#">ログイン</a></li><li><a href="#">新規入会</a></li></ul>
            <h4>■ ツアー情報 <span class="blinking-new">New!</span></h4>
            <ul><li><a href="#">石垣・宮古 島旅</a></li><li><a href="#">那覇フリープラン</a></li></ul>
            <h4>■ 便利な情報</h4>
            <ul><li><a href="#">機材・シート紹介</a></li><li><a href="#">お問い合わせ</a></li><li><a href="#">サイトマップ</a></li></ul>
            <br><p align="center">
                <a href="http://www.w3.org/html/logo/">
                <img src="https://www.w3.org/Icons/valid-html401" alt="Valid HTML 4.01!" height="31" width="88" border="0">
                </a>
            </p>
        </td>

        <td class="main-content" valign="top">
            
            <h3><font color="#000080">ご予約（ステップ 2/3）お客様情報入力</font></h3>

            <font color="red" size="2">
            <b>【重要】</b>ご搭乗者全員の氏名、および代表者様の連絡先情報を正しくご入力ください。<br>
            入力内容に不備があった場合、ご予約が完了しない場合がございます。<br>
            特にフリガナは全角カタカナで正確にお願いします。<hr size="1">
            </font>

            <form action="rra_confirmation.html" method="GET">
<table width="100%" border="0" cellpadding="3" cellspacing="0" bgcolor="#FFFFCC" id="flight-summary">
    <tr>
        <td width="120"><b>ご予約便:</b></td>
        <td id="flight-summary-no">便情報を読み込み中...</td>
    </tr>
<tr>
        <td><b>搭乗日:</b></td>
        <td id="flight-summary-date">日付を読み込み中...</td>
    </tr>
</table>
            <br>
            
            <font size="3"><b>1. ご搭乗者情報（代表者様）</b></font>
            <table class="input-form" cellpadding="5" cellspacing="0">
                <tr>
                    <th>氏名 <span class="required">必須</span></th>
                    <td>
                        <font size="2">姓</font> <input type="text" name="lname" size="10" maxlength="10"> 
                        <font size="2">名</font> <input type="text" name="fname" size="10" maxlength="10"> 
                        <font size="1">(全角)</font>
                    </td>
                </tr>
                <tr>
                    <th>フリガナ <span class="required">必須</span></th>
                    <td>
                        <font size="2">セイ</font> <input type="text" name="lkana" size="10" maxlength="10"> 
                        <font size="2">メイ</font> <input type="text" name="fkana" size="10" maxlength="10"> 
                        <font color="red" size="1">← 全角カタカナで入力してください</font>
                    </td>
                </tr>
                <tr>
                    <th>性別・生年月日 <span class="required">必須</span></th>
                    <td>
                        <input type="radio" name="gender" value="male" checked> 男性 
                        <input type="radio" name="gender" value="female"> 女性 
                        &nbsp;&nbsp;&nbsp;
                        <font size="2">生年月日:</font>
                        <select name="birth_y"><option value="1970">1970年</option><option value="1980">1980年</option></select>
                        <select name="birth_m"><option value="1">01月</option><option value="11">11月</option></select>
                        <select name="birth_d"><option value="1">01日</option><option value="18">18日</option></select>
                    </td>
                </tr>
                <tr>
                    <th>電話番号 <span class="required">必須</span></th>
                    <td>
                        <input type="text" name="tel1" size="4" maxlength="4"> - 
                        <input type="text" name="tel2" size="4" maxlength="4"> - 
                        <input type="text" name="tel3" size="4" maxlength="4"> 
                        <font size="1">(ハイフンなしで入力しないでください)</font>
                    </td>
                </tr>
                <tr>
                    <th>メールアドレス <span class="required">必須</span></th>
                    <td>
                        <input type="text" name="email" size="30" maxlength="50"><br>
                        <font size="2">確認用:</font> <input type="text" name="email_confirm" size="30" maxlength="50">
                        <font size="1"> (半角英数)</font>
                    </td>
                </tr>
            </table>
            
            <br>
            <font size="3"><b>2. お支払い情報（クレジットカード）</b></font>
            <table class="input-form" cellpadding="5" cellspacing="0">
                <tr>
                    <th>カード番号 <span class="required">必須</span></th>
                    <td>
                        <input type="text" name="cc1" size="4" maxlength="4"> 
                        <input type="text" name="cc2" size="4" maxlength="4"> 
                        <input type="text" name="cc3" size="4" maxlength="4"> 
                        <input type="text" name="cc4" size="4" maxlength="4"> 
                        <font size="1">(ハイフンなし半角英数字で入力)</font>
                    </td>
                </tr>
                <tr>
                    <th>有効期限 <span class="required">必須</span></th>
                    <td>
                        <select name="exp_m"><option>01</option><option>11</option></select> / 
                        <select name="exp_y"><option>01</option><option>05</option></select>
                        <font size="1">(月 / 年 (西暦下二桁))</font>
                    </td>
                </tr>
                <tr>
                    <th>名義人名 <span class="required">必須</span></th>
                    <td>
                        <input type="text" name="cc_name" size="30" maxlength="50">
                        <font size="1">(半角アルファベット・姓→名の順)</font>
                    </td>
                </tr>
            </table>

            <br>
            <font size="3"><b>3. ご予約の最終確認</b></font>
            <table class="input-form" cellpadding="5" cellspacing="0">
                <tr>
                    <th>個人情報の取扱い <span class="required">必須</span></th>
                    <td>
                        <input type="checkbox" name="agree" value="yes"> 
                        <font size="2">「<a href="#">個人情報の取扱について</a>」の内容に同意します。</font>
                        <font color="red" size="1">（必ずチェックを入れてください）</font>
                    </td>
                </tr>
            </table>

            <hr size="1" color="#999999">

            <p align="center">
                <input type="submit" value=" 確認画面へ進む " class="submit-button">
            </p>

            </form>

        </td>
    </tr>
    
    <tr bgcolor="#FFFFFF">
        <td colspan="2" class="footer">
            <font size="1">
            (C) 1999-2025 Ryukyu Resort Airlines All Rights Reserved.<br>
            * このホームページは Internet Explorer 5.5 / Netscape 6 での閲覧を推奨します。
            </font>
        </td>
    </tr>

</table>
<script type="text/javascript">
// 当時のJSでURLのパラメータを取得するために使われた簡易関数
function getParameterByName(name) {
    name = name.replace(/[\[\]]/g, "\\$&");
    var url = window.location.href;
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

// 予約情報の簡易マッピング（実際のフライトデータに合わせます）
var FLIGHT_MAP = {
    'RRA201': 'RRA201便 (那覇 08:30 発 → 石垣 09:25 着)',
    'RRA203': 'RRA203便 (那覇 10:15 発 → 石垣 11:10 着)',
    'RRA205': 'RRA205便 (那覇 13:00 発 → 石垣 13:55 着)',
    'RRA207': 'RRA207便 (那覇 16:00 発 → 石垣 16:55 着)',
    'RRA101': 'RRA101便 (那覇 09:00 発 → 宮古 09:50 着)',
    'RRA103': 'RRA103便 (那覇 13:00 発 → 宮古 13:50 着)',
    'RRA105': 'RRA105便 (那覇 16:45 発 → 宮古 17:35 着)',
    'RRA206': 'RRA206便 (石垣 14:20 発 → 那覇 15:15 着)',
    'RRA102': 'RRA102便 (宮古 11:00 発 → 那覇 11:50 着)',
    'RRA104': 'RRA104便 (宮古 14:40 発 → 那覇 15:30 着)'
};

window.onload = function() {
    // URLから必要な全パラメータを取得
    var selectedFlight = getParameterByName('selected_flight');
    var month = getParameterByName('month');
    var day = getParameterByName('day');
    var depCode = getParameterByName('dep'); // rra_search_resultから引き継がれているはず
    var arrCode = getParameterByName('arr'); // rra_search_resultから引き継がれているはず

    var flightDisplay = document.getElementById('flight-summary-no');
    var dateDisplay = document.getElementById('flight-summary-date');
    var year = '2001'; 

    // A. フライト情報の反映 (便名)
    if (flightDisplay && selectedFlight) {
        var flightInfo = FLIGHT_MAP[selectedFlight] || (selectedFlight + '便 (情報なし)');
        flightDisplay.innerHTML = '<b>' + flightInfo + '</b>';
    } else if (flightDisplay) {
        flightDisplay.innerHTML = '<font color="red">便情報が見つかりません</font>';
    }

    // B. 搭乗日の反映
    if (dateDisplay && month && day) {
        // 曜日情報はURLから取得できないため、「日」と仮定します
        dateDisplay.innerHTML = year + '年 ' + month + '月 ' + day + '日 (日)';
    } else if (dateDisplay) {
        dateDisplay.innerHTML = '<font color="red">日付情報が引き継がれていません。</font>';
    }

    // C. フォームに引き継ぎ用の隠しフィールドを追加
    var bookingForm = document.querySelector('form');
    if (bookingForm && selectedFlight && month && day) {
        // 選択したフライト、日付、路線情報を次のページへ確実に渡す
        bookingForm.innerHTML += '<input type="hidden" name="selected_flight" value="' + selectedFlight + '">';
        bookingForm.innerHTML += '<input type="hidden" name="month" value="' + month + '">';
        bookingForm.innerHTML += '<input type="hidden" name="day" value="' + day + '">';
        // 路線情報もあれば渡す (rra_search_resultで正しく設定されていればOK)
        if (depCode && arrCode) {
            bookingForm.innerHTML += '<input type="hidden" name="dep" value="' + depCode + '">';
            bookingForm.innerHTML += '<input type="hidden" name="arr" value="' + arrCode + '">';
        }
    }
};
</script>
</body>
</html>